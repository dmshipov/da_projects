# Разработка дашборда для системы МойСклад

## Описание проекта

### Заказчик
Компания Domino Home & Horeca.

### Цель
Создание инструмента для мониторинга бизнеса, который позволит владельцу компании Domino Home & Horeca эффективно отслеживать ключевые показатели деятельности.

### Задачи
Разработка дашборда в DataLens с следующими визуализациями:
- Динамика выручки по месяцам
- Распределение выручки по магазинам
- Распределение выручки по группам товаров
- Динамика дохода и расхода денежных средств

### Источник данных
Данные о продажах были загружены из системы МойСклад в базу данных ClickHouse.

### Стек технологий
- **DataLens**: для визуализации данных и создания дашборда.
- **ClickHouse**: для хранения и обработки данных о продажах.

### Ссылка на дашборд
[Дашборд для мониторинга бизнеса](https://datalens.yandex/jckrxz64qwde5)

## Примеры запросов для ClickHouse

Ниже представлены примеры SQL-запросов, используемых для извлечения данных из базы данных ClickHouse для визуализации на дашборде.

### 1. Динамика выручки по месяцам
```
SELECT 
    CAST(ROUND(SUM(CAST(brv_retaildemand.sum AS DECIMAL) / 100), 0) AS FLOAT) AS "Выручка",
    DATE_TRUNC('month', CAST(rd.moment as DATE)) AS "Дата"
FROM 
    ms.brv_retaildemand as rd
JOIN
    ms.brv_retaildemand_positions rds ON rds.entity_id = rd.id
WHERE
    "Дата" BETWEEN {{interval_from}} AND {{interval_to}}
GROUP BY 
    "Дата"
ORDER BY
    "Дата";
```

### 2. Распределение выручки по магазинам
```
SELECT rds.name as "Магазины",
    CAST(ROUND(SUM(CAST(training_ms.brv_retaildemand.sum AS DECIMAL) / 100), 0) AS INT) AS "Планируемая выручка"
FROM 
    ms.brv_retaildemand as rd
JOIN
    ms.brv_retailstore rds ON rds.owner = rd.owner
GROUP BY 
    rds.name
ORDER BY
    "Планируемая выручка" DESC;
```

### Результат
В результате успешного внедрения данного инструмента, владелец компании получил возможность оперативно отслеживать ключевые показатели бизнеса, что способствует более эффективному управлению и принятию решений на основе данных.